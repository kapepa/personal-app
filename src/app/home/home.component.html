<div
  class="column gap-1"
>
  <p-button
    label="Add Product" 
    type="button"
    (click)="onToggleAddPopup()"
  />

  <div
    class="row wrap gap-1 space-between"
  >
    <app-product
      *ngFor="let product of products; let i = index" 
      [product]="product"
      [index]="i"
      (edit)="onToggleEditPopup($event)"
      (delete)="confirmationDelete($event)"
    />
  </div>
  <p-paginator 
    (onPageChange)="onPageChange($event)" 
    [rows]="rows" 
    [totalRecords]="totalRecords" 
    [rowsPerPageOptions]="[5, 10, 15]" 
  />
</div>

<div
  (click)="onLayoutConfirmation($event)"
>
  <p-confirmDialog
    #dialog
    header="Confirmation delete"
  >
    <ng-template 
      pTemplate="message" 
      let-message
    >
      <div class="flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border">
        <i class="pi pi-exclamation-circle text-6xl text-primary-500"></i>
        <p>{{ message.message }}</p>
      </div>
    </ng-template>
  </p-confirmDialog>
</div>

<app-edit-popup
  [index]="index"
  [initProduct]="selectedProduct"
  [(visible)]="visibleEditPopup"
  (confirm)="onConfirmEdit($event)"
  header="Edit Product"
/>

<app-edit-popup
  [(visible)]="visibleAddPopup"
  (confirm)="onConfirmAdd($event)"
  header="Add Product"
/>

<p-toast/>